<div class="container myAnimated myFast myFadeIn">
    <div class="card card-register mx-auto mt-5">
        <div class="card-header myCardHeader">Datos del Reclamo</div>
        <div class="card-body">
            <form [formGroup]="frmGenerarReclamo">

                <div class="form-group">
                    <div class="form-row">
                        <div class="col-md-6">
                            <label>AREA DE SERVICIO*</label>
                            <mat-select (selectionChange)="cargaSelectTipoReclamo()" formControlName="areaServicio" class="form-control" placeholder="Seleccione Area de Servicio">
                                <mat-option *ngFor="let item of arrArServ" [value]="item.arServ_IDAreaServicio">
                                    {{ item.arServ_nombre }}
                                </mat-option>
                            </mat-select>
                        </div>
                        <div class="col-md-6">
                            <label>RECLAMO*</label>
                            <mat-select id="ddlReclamo" (selectionChange)="selectTipoReclamo()" formControlName="tipoReclamo" [(ngModel)]="TipoReclamoID" class="form-control">
                                <mat-option value="" disabled>Seleccione Reclamo</mat-option>
                                <mat-option *ngFor="let item of arrTipRec" [value]="item.tipRec_IDTipoReclamo">
                                    {{ item.tipRec_nombre }}
                                </mat-option>
                            </mat-select>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>¿INGRESAR UBICACION MEDIANTE EL MAPA?*</label>
                    <mat-select (selectionChange)="ubicacionMapa()" formControlName="ubicacion" [(ngModel)]="mapVisibility" class="form-control" placeholder="Seleccione opción">
                        <mat-option *ngFor="let item of arrOpcion" [value]="item.stOpcion">
                            {{ item.opcion }}
                        </mat-option>
                    </mat-select>
                </div>


                <div [hidden]="mapVisibility === 'hidden'">
                    <agm-map id="googleMap" [latitude]="lat" [longitude]="lng" [zoom]="zoom">
                        <agm-marker [latitude]="lat" [longitude]="lng" [markerDraggable]="true" (dragEnd)="markerDragEnd($event)"></agm-marker>
                    </agm-map>
                </div>

                <div class="form-group">
                    <label>BARRIO*</label>
                    <mat-select (selectionChange)="cargaSelectCalle()" formControlName="barrio" class="form-control" placeholder="Seleccione Barrio">
                        <mat-option *ngFor="let item of arrBarrio" [value]="item.bar_IDBarrio">
                            {{ item.bar_nombre }}
                        </mat-option>
                    </mat-select>
                </div>

                <div class="form-group">
                    <div class="form-row">
                        <div class="col-md-6">
                            <label>CALLE*</label>
                            <mat-select #ddlCalle id="ddlCalle" (selectionChange)="selectCalle()" formControlName="calle" [(ngModel)]="CalleID" class="form-control" placeholder="Seleccione Calle">
                                <mat-option *ngFor="let item of arrCalle" [value]="item.cal_IDCalle">
                                    {{ item.cal_nombre }}
                                </mat-option>
                            </mat-select>
                        </div>
                        <div class="col-md-6">
                            <label>ALTURA*</label>
                            <input (keypress)="validarIngreso($event)" formControlName="altura" [(ngModel)]="altura" class="form-control" type="text" placeholder="Ingrese altura" maxlength="4" />
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="form-row">
                        <label>OBSERVACIONES</label>
                        <textarea formControlName="observaciones" [(ngModel)]="observacion" class="form-control" placeholder="Detalle su reclamo. Puede especificar datos puntuales, referencias, etc" cols="100" rows="3"></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <div class="text-center lblCampoObligatorio">
                        *Campos obligatorios
                    </div>
                </div>

                <button mat-stroked-button [disabled]="!frmGenerarReclamo.valid" (click)="validarReclamo()" matTooltip="Resumen del Reclamo" matTooltipPosition="left" class="btn btn-primary btn-block btnSiguiente">
                    Siguiente <i class="fa fa-fw fa-chevron-right"></i>
                </button>
            </form>
        </div>
    </div>
</div>